(this["webpackJsonpinsta-store"]=this["webpackJsonpinsta-store"]||[]).push([[0],{103:function(e,t,n){e.exports=n(150)},108:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(10),c=n.n(i),l=(n(108),n(9)),s=n(14),u=n(78),d=n(35),m=n(43),p=n(17),f=n.n(p),b=n(24);!function(e){e[e.Store=0]="Store",e[e.User=1]="User",e[e.Time=2]="Time",e[e.Distance=3]="Distance"}(a||(a={}));var g=n(33),h=n(179),v=n(183),y=n(184),O=n(185),j=n(15),x=n(13);function E(){var e=Object(j.a)(["\n  position: absolute;\n  width: ","rem;\n  height: ","rem;\n  left: ","rem;\n  top: ","rem;\n\n  border: 1px solid black;\n  border-radius: 50%;\n  text-align: center;\n  background: ",";\n\n  animation-name: ",";\n  animation-duration: 4s;\n  animation-iteration-count: ",";\n  font-size: 16;\n  font-weight: bold;\n  padding: 4;\n  cursor: pointer;\n  svg {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n  }\n"]);return E=function(){return e},e}function C(){var e=Object(j.a)(["\n 0% {transform: scale(1)}\n 10% {transform: scale(0.8)}\n 50% {transform: scale(2)}\n 90% {transform: scale(0.8)}\n 100% {transform: scale(1)}\n"]);return C=function(){return e},e}var S=Object(x.c)(C()),w={MarkerPosCentered:x.b.div(E(),(function(e){return e.size||1}),(function(e){return e.size||1}),(function(e){return-e.size/2||1}),(function(e){return-e.size/2||1}),(function(e){var t="palevioletred";return e.type===a.Store&&(t="palegreen"),e.type===a.Distance&&(t="gold"),t}),S,(function(e){return e.hoover?"infinite":"none"}))},T=function(e){return o.a.createElement(w.MarkerPosCentered,{hoover:e.$hover,size:2,className:"lookatme",type:e.type},e.type===a.User&&o.a.createElement(h.a,null),e.type===a.Store&&o.a.createElement(v.a,null),e.type===a.Distance&&o.a.createElement(y.a,null),e.type===a.Time&&o.a.createElement(O.a,null))},k=n(88),A=n(86),_=n.n(A);function I(){var e=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n"]);return I=function(){return e},e}var L=x.b.main(I()),P=(Object({NODE_ENV:"production",PUBLIC_URL:"/instastore-front-c",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_STORES_URI:"/stores",REACT_APP_API_DESTINATION_URI:"/destination",REACT_APP_MAP_KEY:"AIzaSyAJp1JumsmnVpapbc2zM_gJdiMyPDnkVhY",REACT_APP_API_URL:"https://vast-shore-45582.herokuapp.com/"}).REACT_APP_MAPS_API_KEY,function(e){var t=e.children,n=Object(k.a)(e,["children"]);return o.a.createElement(L,null,o.a.createElement(_.a,Object.assign({bootstrapURLKeys:{key:"AIzaSyAJp1JumsmnVpapbc2zM_gJdiMyPDnkVhY",language:"en",libraries:["places","directions"]}},n),t))}),D=function(e){var t=e.userMarker,n=e.storesMarkers,a=e.onApiLoad,i=e.mapCenter,c=e.onMarkerMove,u=e.zoom,d=Object(r.useState)({draggable:!0}),m=Object(s.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(t),h=Object(s.a)(b,2),v=h[0],y=h[1];Object(r.useEffect)((function(){y(t),console.log(t,n)}),[t,n]);var O=function(e,t,n){v.id==e&&(f(Object(l.a)(Object(l.a)({},p),{},{draggable:!1})),y(Object(l.a)(Object(l.a)({},v),{},{coordinates:{latitude:n.lat,longitude:n.lng}})))},j=function(e){},x=v&&n&&[v].concat(Object(g.a)(n)).map((function(e,t){return o.a.createElement(T,{key:t,lat:e.coordinates.latitude,lng:e.coordinates.longitude,type:e.type,onClick:j})}));return o.a.createElement(P,{center:i.center,defaultZoom:u||11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,n=e.maps;e.ref;a({maps:n,autoCompleteService:new n.places.AutocompleteService,placesService:new n.places.PlacesService(t),directionService:new n.DirectionsService,geoCoderService:new n.Geocoder})},onChildMouseEnter:function(e,t){},onChildMouseLeave:function(e,t){},onClick:j,draggable:p.draggable,onChange:function(e){e.center,e.zoom},onChildMouseDown:O,onChildMouseUp:function(e,t,n){f(Object(l.a)(Object(l.a)({},p),{},{draggable:!0})),c({lat:n.lat,lng:n.lng})},onChildMouseMove:O,hoverDistance:50,distanceToMouse:function(e,t,n){var a=e.x,r=e.y;return Math.sqrt((a-t.x)*(a-t.x)+(r-t.y)*(r-t.y))}},x)},F=n(201),M=n(188),z=n(189),V=n(204),N=n(191);function R(){var e=Object(j.a)(["\n  display: flex;\n  background: white;\n  margin: 5rem auto;\n  height: 20rem;\n  width: 35rem;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  /* //decoration */\n  border-radius: 41px 41px 41px 41px;\n  -moz-border-radius: 41px 41px 41px 41px;\n  -webkit-border-radius: 41px 41px 41px 41px;\n  border: 3px solid palevioletred;\n  -webkit-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  -moz-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  overflow: hidden;\n  h2 {\n    max-width: 25rem;\n    color: palevioletred;\n    font-weight: 600;\n    font-size: 1.6rem;\n  }\n  h3 {\n    max-width: 25rem;\n    font-size: 1.2rem;\n  }\n  :focus {\n    outline: none;\n  }\n"]);return R=function(){return e},e}function B(){var e=Object(j.a)(["\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: stretch;\n  height: 32rem;\n  margin: 4rem 2rem;\n  /* decorations */\n  border-radius: 41px 41px 41px 41px;\n  -moz-border-radius: 41px 41px 41px 41px;\n  -webkit-border-radius: 41px 41px 41px 41px;\n  border: 3px solid palevioletred;\n  -webkit-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  -moz-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  overflow: hidden;\n"]);return B=function(){return e},e}function U(){var e=Object(j.a)(["\n  font-size: 1.5rem;\n  text-align: center;\n  color: palevioletred;\n  background: peachpuff;\n  margin: 0;\n  padding: 0;\n"]);return U=function(){return e},e}function J(){var e=Object(j.a)(["\n  flex-direction: column;\n  min-width: 250px;\n  flex-grow: 1;\n  width: auto;\n  overflow-y: scroll;\n  justify-content: center;\n  align-items: center;\n  padding: 4rem 4rem;\n  "," {\n    margin: 1rem 2.5rem;\n  }\n  "," {\n    background: palevioletred;\n  }\n"]);return J=function(){return e},e}function W(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 450px;\n  overflow-y: scroll;\n  padding: 4rem 0rem;\n  "," {\n    margin: 1rem 2.5rem;\n  }\n  "," {\n    margin: 2.5rem 2.5rem;\n    max-width: 12rem;\n    background: palevioletred;\n  }\n  "," {\n    color: palevioletred;\n  }\n  "," {\n    padding: 0 3rem;\n  }\n\n  h3 {\n    margin: 0 4rem;\n    color: palevioletred;\n    font-size: 1.2rem;\n    text-align: left;\n  }\n  "," {\n    margin: 1.5rem 4rem 1rem 4rem;\n    color: palevioletred;\n  }\n"]);return W=function(){return e},e}function q(){var e=Object(j.a)(["\n  font-size: 1.5rem;\n  color: palevioletred;\n  text-align: left;\n"]);return q=function(){return e},e}function H(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  max-height: 100vh;\n  width: 100%;\n"]);return H=function(){return e},e}function G(){var e=Object(j.a)([""]);return G=function(){return e},e}function K(){var e=Object(j.a)(["\n  background: palevioletred;\n"]);return K=function(){return e},e}function Y(){var e=Object(j.a)([""]);return Y=function(){return e},e}function Q(){var e=Object(j.a)([""]);return Q=function(){return e},e}function Z(){var e=Object(j.a)([""]);return Z=function(){return e},e}function $(){var e=Object(j.a)([""]);return $=function(){return e},e}var X,ee=Object(x.b)(F.a)($()),te=Object(x.b)(M.a)(Z()),ne=Object(x.b)(z.a)(Q()),ae=Object(x.b)(V.a)(Y()),re=Object(x.b)(N.a)(K()),oe=x.b.div(G()),ie=x.b.div(H()),ce=x.b.h1(q()),le=x.b.div(W(),ee,re,te,ce,ne),se=x.b.div(J(),oe,re),ue=x.b.h1(U()),de=x.b.div(B()),me=x.b.div(R()),pe={Title:ue,OptionsPanel:le,PanelContainer:ie,Board:se,TextField:ee,MapContainer:de,AutoCompleteFieldWraper:oe,HelperLabel:ce,ModalContent:me},fe=n(192),be=n(193),ge=n(194),he=n(195),ve=n(196),ye=n(197),Oe=n(198),je=n(199),xe=n(200),Ee=n(202),Ce=function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(""),l=Object(s.a)(c,2),u=l[0],d=l[1],m=Object(r.useState)([]),p=Object(s.a)(m,2),g=p[0],h=p[1],v=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[e]),Object(r.useEffect)((function(){a.length>0&&(e.onTyping&&"function"==typeof e.onTyping&&(e.onTyping(e.id,a,v)||v([])))}),[a]),Object(r.useEffect)((function(){u&&u.length>0&&e.onSelection&&e.onSelection(e.id,u)}),[u]),o.a.createElement(Ee.a,{id:"autoCompleteField-".concat(e.id),filterOptions:function(e){return e},options:g,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,getOptionLabel:function(e){return e},value:e.value,onChange:function(e,t){d(t)},onClose:function(e){h([])},onInputChange:function(e,t){i(t)},renderInput:function(t){return o.a.createElement(F.a,Object.assign({},t,{label:e.label,variant:"outlined"}))}})},Se=function(e){var t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],c=function(e,t){i(t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.HelperLabel,null,"Complete this information so we can find the Store you need!"),o.a.createElement(ee,{autoComplete:"off",value:e.destinationObj.name,onChange:e.onTextFieldValueChange("name"),label:"Name This Destination",variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(fe.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty",placeholder:"The name of your place. i.e. The Batcave"}),o.a.createElement(ee,{label:"Add DesCription",value:e.destinationObj.description,onChange:e.onTextFieldValueChange("description"),variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(be.a,null))},placeholder:"Instructions for delivery. i.e. `bark three times`"}),o.a.createElement(ee,{autoComplete:"off",value:e.destinationObj.address,onChange:e.onTextFieldValueChange("address"),label:"Address",variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(ge.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(ee,{label:"Address Two",value:e.destinationObj.address_two,onChange:e.onTextFieldValueChange("address_two"),variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(he.a,null))},placeholder:"Aditional info,i.e. building, apto, secret door etc."}),o.a.createElement(ee,{autoComplete:"off",label:"Country",onChange:e.onTextFieldValueChange("country"),value:e.destinationObj.country,variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(ve.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(ee,{autoComplete:"off",value:e.destinationObj.state,onChange:e.onTextFieldValueChange("state"),label:"State",variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(ye.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.state,helperText:"This can't be empty"}),o.a.createElement(ee,{autoComplete:"off",value:e.destinationObj.city,onChange:e.onTextFieldValueChange("city"),label:"City",variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(Oe.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(ee,{autoComplete:"off",value:e.destinationObj.zip_code,onChange:e.onTextFieldValueChange("zip_code"),label:"Zip Code",variant:"outlined",InputProps:{startAdornment:o.a.createElement(te,{position:"start"},o.a.createElement(je.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.zip_code,helperText:"This can't be empty"}),o.a.createElement(pe.HelperLabel,null,"Are you done? there are a few filters you can apply"),o.a.createElement("h3",null,"Man, is midnight and partying"),o.a.createElement(ne,{control:o.a.createElement(ae,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"Look for Open Stores"}),o.a.createElement("h3",null,"Just on the toilet, kind of an urgency"),o.a.createElement(ne,{control:o.a.createElement(ae,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"I want it Quickly"}),o.a.createElement("h3",null,"A pretty domiciliary girl?"),o.a.createElement(ne,{control:o.a.createElement(ae,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"I want it Near"}),o.a.createElement(re,{variant:"contained",color:"secondary",endIcon:o.a.createElement(xe.a,null),onClick:e.submitForm},"Find It!"))},we=function(e){var t=e.addressValue,n=e.locationLoaded,a=e.mapCenter,r=e.onAutoCompleFieldOnTyping,i=e.onCenterFieldSelection;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.AutoCompleteFieldWraper,null,!n&&o.a.createElement(pe.HelperLabel,null,"Since we were unable to activate your Geolocation, let's find the city or town where you are located."),n&&o.a.createElement(pe.HelperLabel,null,"Alright! looks like you're somewhere near ",a.name,", move the marker in the map to find your address, or you can type it here."),o.a.createElement(Ce,{id:X.CENTER,label:"NearBy Place or City",value:a?a.name:"",onTyping:r,onSelection:i})),o.a.createElement(pe.AutoCompleteFieldWraper,null,o.a.createElement(pe.HelperLabel,null,"You can type your address to locate you, look for the hints if you're really lost!"),o.a.createElement(Ce,{id:X.ADDRESS,label:"Address",value:t,onTyping:r,onSelection:i})))},Te=n(203);!function(e){e.CENTER="Center",e.ADDRESS="Address"}(X||(X={}));var ke,Ae=function(e){var t=e.nearest,n=e.destination,i=e.storesList,c=e.mapServices,u=e.onApiLoad,d=e.locationLoaded,p=e.onDestinationSubmit,g=e.getAllStoresInCity,h=Object(r.useState)({center:{lat:0,lng:0},name:""}),v=Object(s.a)(h,2),y=v[0],O=v[1],j=Object(r.useState)({isDraggable:!0,id:0,coordinates:{latitude:n.latitude,longitude:n.longitude},name:n.name,type:a.User}),x=Object(s.a)(j,2),E=x[0],C=x[1],S=Object(r.useState)([]),w=Object(s.a)(S,2),T=w[0],k=w[1],A=Object(r.useState)(n),_=Object(s.a)(A,2),I=_[0],L=_[1],P=Object(r.useState)(""),F=Object(s.a)(P,2),M=F[0],z=F[1],V=o.a.useState(!1),N=Object(s.a)(V,2),R=N[0],B=N[1];Object(r.useEffect)((function(){if(c&&c.mapInitialLatLng){var e={lat:c.mapInitialLatLng.lat(),lng:c.mapInitialLatLng.lng()},t="";d&&(q(e),c.geoCoderService.geocode({location:e},(function(n){t=n[0].formatted_address.split(",").slice(1).toString(),O({center:e,name:t})}))),O({center:e,name:t})}}),[c,d]),Object(r.useEffect)((function(){var e=i&&i.map((function(e){return{isDraggable:!1,id:e.id,coordinates:{latitude:e.latitude,longitude:e.longitude},name:e.name,type:a.Store}})),n=t&&{isDraggable:!1,id:t.id,coordinates:{latitude:t.latitude,longitude:t.longitude},name:t.name,type:a.Distance};n&&e.push(n),k(e)}),[i,t]),Object(r.useEffect)((function(){var e={isDraggable:!0,id:0,coordinates:{latitude:n.latitude,longitude:n.longitude},name:n.name,type:a.User};C(e)}),[n]);var U=function(e){var t=function(t){var n=e.address_components.filter((function(e){return e.types.includes(t)}));return n.length>0?n[0].long_name:""},n={zip_code:t("postal_code"),country:t("country"),city:t("locality"),state:t("administrative_area_level_1"),address:e.formatted_address.split(",")[0],latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng()};L(Object(l.a)(Object(l.a)({},I),n)),z(e.formatted_address),O(Object(l.a)(Object(l.a)({},y),{},{name:e.formatted_address.split(",").slice(1).toString()}))},J=function(e,t){if(c.geoCoderService){var n={address:t};c.geoCoderService.geocode(n,(function(n){var a=n[0].geometry.location,r={lat:a.lat(),lng:a.lng()};e===X.CENTER&&O(Object(l.a)(Object(l.a)({},y),{},{center:r,name:t})),e===X.ADDRESS&&U(n[0]),q(r)}))}},W=function(){var e=Object(b.a)(f.a.mark((function e(t,n,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.maps&&c.autoCompleteService){e.next=2;break}return e.abrupt("return",void 0);case 2:return r={input:n},t===X.CENTER&&(r=Object(l.a)(Object(l.a)({},r),{},{fields:["name"]})),t===X.ADDRESS&&(r=Object(l.a)(Object(l.a)({},r),{},{location:new c.maps.LatLng(y.center.lat,y.center.lng),radius:3e4,types:["establishment","street_address","street_number","route"]})),c.autoCompleteService.getQueryPredictions(r,(function(e){if(e){var t=e.map((function(e){return e.description}));return a(t),t}})),e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),q=function(e){E&&C(Object(l.a)(Object(l.a)({},E),{},{coordinates:{latitude:e.lat,longitude:e.lng}}))},H=function(e){return function(t){L(Object(l.a)(Object(l.a)({},I),{},Object(m.a)({},e,t.target.value)))}},G=function(e){var t=function(e){var t=["address_two","description"],n=!0;for(var a in e)n=n&&(!!t.includes(a)||""!==e[a]);return n}(I);t?p(I):B(!t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.Title,null,"@Go Nuts!@"),o.a.createElement(pe.PanelContainer,null,o.a.createElement(pe.OptionsPanel,null,o.a.createElement(Se,{addressValue:M,destinationObj:I,onTextFieldValueChange:H,submitForm:G})),o.a.createElement(pe.Board,null,o.a.createElement(we,{addressValue:M,locationLoaded:d,mapCenter:y,onAutoCompleFieldOnTyping:W,onCenterFieldSelection:J}),o.a.createElement(pe.MapContainer,null,o.a.createElement(D,{userMarker:E,storesMarkers:T,onApiLoad:u,mapCenter:y,onMarkerMove:function(e){c.geoCoderService.geocode({location:e},(function(e){U(e[0])}))}})),o.a.createElement(re,{variant:"contained",color:"secondary",onClick:function(){return g(y.name.split(",")[0])}},"Show me stores in this city"))),o.a.createElement(Te.a,{open:R,onClose:function(){return B(!1)}},o.a.createElement(pe.ModalContent,null,o.a.createElement("h2",null,"Ooops... Something did breake"),o.a.createElement("h3",null,"Destination information is not valid, please check the fields"),o.a.createElement(re,{variant:"contained",color:"secondary",onClick:function(){return B(!1)}},"sure, i will!"))))};!function(e){e[e.distance=0]="distance",e[e.time=1]="time"}(ke||(ke={}));var _e=n(36),Ie={error:null,cityStores:[],nearest:{distance:void 0,time:void 0}},Le=n(54),Pe=n.n(Le),De="https://vast-shore-45582.herokuapp.com/";function Fe(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(b.a)(f.a.mark((function e(t){var n,a,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/nearest",n="".concat(De).concat("/stores").concat("/nearest"),a={headers:{"Content-Type":"application/json"},params:{searchBy:t.filters.searchBy,hi:!0}},r=t,e.next=6,Pe.a.post(n,r,a);case 6:return o=e.sent,e.t0=console,e.t1='Nearest post from axios: ", ',e.next=11,o;case 11:return e.t2=e.sent.data,e.t3=e.t1.concat.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,o;case 16:return e.abrupt("return",e.sent.data);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(b.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(De).concat("/stores","/city/").concat(t),a={headers:{"Content-Type":"application/json"}},e.next=4,Pe.a.get(n,a);case 4:return r=e.sent,e.t0=console,e.t1='get from axios: ", ',e.next=9,r;case 9:return e.t2=e.sent.data,e.t3=e.t1.concat.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=14,r;case 14:return e.abrupt("return",e.sent.data);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=Object(_e.b)({name:"stores",initialState:Ie,reducers:{setStoresByCity:function(e,t){e.cityStores=t.payload},setStoresNearestTime:function(e,t){e.nearest.time=t.payload},setStoresNearestDistance:function(e,t){e.nearest.distance=t.payload},addStoreToCity:function(e,t){(e.cityStores||[]).push(t.payload)},somethingFailed:function(e,t){e.error=t.payload,console.info("redux state not modified")},failingAcknowledgement:function(e){e.error=null}}}),Re=Ne.actions,Be=Re.setStoresByCity,Ue=(Re.setStoresNearestTime,Re.setStoresNearestDistance),Je=(Re.addStoreToCity,Re.somethingFailed),We=Re.failingAcknowledgement,qe=Ne.reducer,He={error:null,destination:{name:"",address:"",address_two:"",description:"",country:"",city:"",zip_code:"",state:"",latitude:4.690884099999999,longitude:-74.860183},filters:{searchBy:ke.distance,searchOpen:!1},items:[{name:"beer",quantity:6}]},Ge=Object(_e.b)({name:"destination",initialState:He,reducers:{setDestination:function(e,t){e.destination=t.payload},setFilters:function(e,t){e.filters=t.payload},addItemToOrder:function(e,t){var n=e.items||[],a=n.findIndex((function(e){return e.name===t.payload.name}));e.items=a>=0?[].concat(Object(g.a)(n.slice(0,a)),[t.payload],Object(g.a)(n.slice(a))):[].concat(Object(g.a)(n),[t.payload])},deleteItemFromOrder:function(e,t){var n=e.items||[],a=n.findIndex((function(e){return e.name===t.payload.name}));e.items=a>=0?[].concat(Object(g.a)(n.slice(0,a)),Object(g.a)(n.slice(a+1))):e.items},somethingFailed:function(e,t){e.error=t.payload,console.info("redux state not modified")},failingAcknowledgement:function(e){e.error=null}}}),Ke=Ge.actions,Ye=Ke.setDestination,Qe=(Ke.setFilters,Ke.addItemToOrder,Ke.deleteItemFromOrder,Ke.somethingFailed),Ze=Ke.failingAcknowledgement,$e=Ge.reducer,Xe=function(e){Object(u.a)(e);var t=1.3521,n=103.8198,a=Object(d.b)(),i=Object(d.c)((function(e){return e.destination.destination})),c=Object(d.c)((function(e){return e.stores.cityStores}))||[],m=Object(d.c)((function(e){return e.destination.filters.searchBy===ke.distance?e.stores.nearest.distance:e.stores.nearest.time})),p=Object(r.useState)({}),g=Object(s.a)(p,2),h=g[0],v=g[1],y=Object(r.useState)(!1),O=Object(s.a)(y,2),j=O[0],x=O[1];Object(r.useEffect)((function(){console.log("the new map service is",h)}),[h]);return o.a.createElement(Ae,{onApiLoad:function(e){var a=new e.maps.LatLng(t,n);navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords;a=new e.maps.LatLng(n.latitude,n.longitude),v(Object(l.a)(Object(l.a)({},e),{},{mapInitialLatLng:a})),x(!0)}),(function(e){console.error("Cant Get Position",e)})),v(Object(l.a)(Object(l.a)({},e),{},{mapInitialLatLng:a}))},nearest:m,mapServices:h,destination:i,storesList:c||[],onDestinationSubmit:function(e){console.log("the submit is, ",e),a(function(e){return function(t){try{t(Ye(e)),t(Ze())}catch(n){console.error("No calls were made ".concat(n)),t(Qe(n))}}}(e)),a(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n,a){var r,o,i,c,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().destination,o=r.filters,i=r.items,c={destination:e,filters:o,items:i,error:null},t.next=5,Fe(c);case 5:l=t.sent,n(Ue(l.results[0])),n(We()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("No calls were made ".concat(t.t0)),n(Je(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},locationLoaded:j,getAllStoresInCity:function(e){void 0!==e&&""!==e&&a(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ze(e);case 3:r=t.sent,n(Be(r.results)),n(We()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("No calls were made ".concat(t.t0)),n(Je(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))}})},et={main:"mediumseagreen"},tt=(n(149),function(){return o.a.createElement(x.a,{theme:et},o.a.createElement("div",{className:"App"},o.a.createElement(Xe,null)))}),nt=Object(_e.a)({reducer:{user:$e,destination:$e,stores:qe}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(d.a,{store:nt},o.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.ce2fe396.chunk.js.map