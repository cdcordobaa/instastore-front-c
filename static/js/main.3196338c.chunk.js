(this["webpackJsonpinsta-store"]=this["webpackJsonpinsta-store"]||[]).push([[0],{103:function(e,t,n){e.exports=n(150)},108:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(10),c=n.n(i),l=(n(108),n(9)),s=n(14),u=n(78),d=n(35),m=n(43),p=n(17),f=n.n(p),b=n(24);!function(e){e[e.Store=0]="Store",e[e.User=1]="User",e[e.Time=2]="Time",e[e.Distance=3]="Distance"}(a||(a={}));var g=n(33),v=n(179),h=n(183),O=n(184),y=n(185),j=n(15),E=n(13);function x(){var e=Object(j.a)(["\n  position: absolute;\n  width: ","rem;\n  height: ","rem;\n  left: ","rem;\n  top: ","rem;\n\n  border: 1px solid black;\n  border-radius: 50%;\n  text-align: center;\n  background: ",";\n\n  animation-name: ",";\n  animation-duration: 4s;\n  animation-iteration-count: ",";\n  font-size: 16;\n  font-weight: bold;\n  padding: 4;\n  cursor: pointer;\n  svg {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n  }\n"]);return x=function(){return e},e}function C(){var e=Object(j.a)(["\n 0% {transform: scale(1)}\n 10% {transform: scale(0.8)}\n 50% {transform: scale(2)}\n 90% {transform: scale(0.8)}\n 100% {transform: scale(1)}\n"]);return C=function(){return e},e}var S=Object(E.c)(C()),w={MarkerPosCentered:E.b.div(x(),(function(e){return e.size||1}),(function(e){return e.size||1}),(function(e){return-e.size/2||1}),(function(e){return-e.size/2||1}),(function(e){var t="palevioletred";return e.type===a.Store&&(t="palegreen"),e.type===a.Distance&&(t="gold"),t}),S,(function(e){return e.hoover?"infinite":"none"}))},T=function(e){return o.a.createElement(w.MarkerPosCentered,{hoover:e.$hover,size:2,className:"lookatme",type:e.type},e.type===a.User&&o.a.createElement(v.a,null),e.type===a.Store&&o.a.createElement(h.a,null),e.type===a.Distance&&o.a.createElement(O.a,null),e.type===a.Time&&o.a.createElement(y.a,null))},_=n(88),k=n(86),A=n.n(k);function L(){var e=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n"]);return L=function(){return e},e}var D=E.b.main(L()),P=Object({NODE_ENV:"production",PUBLIC_URL:"/instastore-front-c",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPS_API_KEY,I=function(e){var t=e.children,n=Object(_.a)(e,["children"]);return o.a.createElement(D,null,o.a.createElement(A.a,Object.assign({bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/instastore-front-c",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAP_KEY||P,language:"en",libraries:["places","directions"]}},n),t))},F=function(e){var t=e.userMarker,n=e.storesMarkers,a=e.onApiLoad,i=e.mapCenter,c=e.onMarkerMove,u=e.zoom,d=Object(r.useState)({draggable:!0}),m=Object(s.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(t),v=Object(s.a)(b,2),h=v[0],O=v[1];Object(r.useEffect)((function(){O(t),console.log(t,n)}),[t,n]);var y=function(e,t,n){h.id==e&&(f(Object(l.a)(Object(l.a)({},p),{},{draggable:!1})),O(Object(l.a)(Object(l.a)({},h),{},{coordinates:{latitude:n.lat,longitude:n.lng}})))},j=function(e){},E=h&&n&&[h].concat(Object(g.a)(n)).map((function(e,t){return o.a.createElement(T,{key:t,lat:e.coordinates.latitude,lng:e.coordinates.longitude,type:e.type,onClick:j})}));return o.a.createElement(I,{center:i.center,defaultZoom:u||11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,n=e.maps;e.ref;a({maps:n,autoCompleteService:new n.places.AutocompleteService,placesService:new n.places.PlacesService(t),directionService:new n.DirectionsService,geoCoderService:new n.Geocoder})},onChildMouseEnter:function(e,t){},onChildMouseLeave:function(e,t){},onClick:j,draggable:p.draggable,onChange:function(e){e.center,e.zoom},onChildMouseDown:y,onChildMouseUp:function(e,t,n){f(Object(l.a)(Object(l.a)({},p),{},{draggable:!0})),c({lat:n.lat,lng:n.lng})},onChildMouseMove:y,hoverDistance:50,distanceToMouse:function(e,t,n){var a=e.x,r=e.y;return Math.sqrt((a-t.x)*(a-t.x)+(r-t.y)*(r-t.y))}},E)},M=n(201),N=n(188),R=n(189),z=n(204),V=n(191);function B(){var e=Object(j.a)(["\n  display: flex;\n  background: white;\n  margin: 5rem auto;\n  height: 20rem;\n  width: 35rem;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  /* //decoration */\n  border-radius: 41px 41px 41px 41px;\n  -moz-border-radius: 41px 41px 41px 41px;\n  -webkit-border-radius: 41px 41px 41px 41px;\n  border: 3px solid palevioletred;\n  -webkit-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  -moz-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  overflow: hidden;\n  h2 {\n    max-width: 25rem;\n    color: palevioletred;\n    font-weight: 600;\n    font-size: 1.6rem;\n  }\n  h3 {\n    max-width: 25rem;\n    font-size: 1.2rem;\n  }\n  :focus {\n    outline: none;\n  }\n"]);return B=function(){return e},e}function U(){var e=Object(j.a)(["\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: stretch;\n  height: 32rem;\n  margin: 4rem 2rem;\n  /* decorations */\n  border-radius: 41px 41px 41px 41px;\n  -moz-border-radius: 41px 41px 41px 41px;\n  -webkit-border-radius: 41px 41px 41px 41px;\n  border: 3px solid palevioletred;\n  -webkit-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  -moz-box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  box-shadow: 0px 40px 30px 15px rgba(0, 0, 0, 0.52);\n  overflow: hidden;\n"]);return U=function(){return e},e}function W(){var e=Object(j.a)(["\n  font-size: 1.5rem;\n  text-align: center;\n  color: palevioletred;\n  background: peachpuff;\n  margin: 0;\n  padding: 0;\n"]);return W=function(){return e},e}function K(){var e=Object(j.a)(["\n  flex-direction: column;\n  min-width: 250px;\n  flex-grow: 1;\n  width: auto;\n  overflow-y: scroll;\n  justify-content: center;\n  align-items: center;\n  padding: 4rem 4rem;\n  "," {\n    margin: 1rem 2.5rem;\n  }\n  "," {\n    background: palevioletred;\n  }\n"]);return K=function(){return e},e}function H(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 450px;\n  overflow-y: scroll;\n  padding: 4rem 0rem;\n  "," {\n    margin: 1rem 2.5rem;\n  }\n  "," {\n    margin: 2.5rem 2.5rem;\n    max-width: 12rem;\n    background: palevioletred;\n  }\n  "," {\n    color: palevioletred;\n  }\n  "," {\n    padding: 0 3rem;\n  }\n\n  h3 {\n    margin: 0 4rem;\n    color: palevioletred;\n    font-size: 1.2rem;\n    text-align: left;\n  }\n  "," {\n    margin: 1.5rem 4rem 1rem 4rem;\n    color: palevioletred;\n  }\n"]);return H=function(){return e},e}function q(){var e=Object(j.a)(["\n  font-size: 1.5rem;\n  color: palevioletred;\n  text-align: left;\n"]);return q=function(){return e},e}function G(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  max-height: 100vh;\n  width: 100%;\n"]);return G=function(){return e},e}function J(){var e=Object(j.a)([""]);return J=function(){return e},e}function Y(){var e=Object(j.a)(["\n  background: palevioletred;\n"]);return Y=function(){return e},e}function Q(){var e=Object(j.a)([""]);return Q=function(){return e},e}function Z(){var e=Object(j.a)([""]);return Z=function(){return e},e}function $(){var e=Object(j.a)([""]);return $=function(){return e},e}function X(){var e=Object(j.a)([""]);return X=function(){return e},e}var ee,te=Object(E.b)(M.a)(X()),ne=Object(E.b)(N.a)($()),ae=Object(E.b)(R.a)(Z()),re=Object(E.b)(z.a)(Q()),oe=Object(E.b)(V.a)(Y()),ie=E.b.div(J()),ce=E.b.div(G()),le=E.b.h1(q()),se=E.b.div(H(),te,oe,ne,le,ae),ue=E.b.div(K(),ie,oe),de=E.b.h1(W()),me=E.b.div(U()),pe=E.b.div(B()),fe={Title:de,OptionsPanel:se,PanelContainer:ce,Board:ue,TextField:te,MapContainer:me,AutoCompleteFieldWraper:ie,HelperLabel:le,ModalContent:pe},be=n(192),ge=n(193),ve=n(194),he=n(195),Oe=n(196),ye=n(197),je=n(198),Ee=n(199),xe=n(200),Ce=n(202),Se=function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(""),l=Object(s.a)(c,2),u=l[0],d=l[1],m=Object(r.useState)([]),p=Object(s.a)(m,2),g=p[0],v=p[1],h=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[e]),Object(r.useEffect)((function(){a.length>0&&(e.onTyping&&"function"==typeof e.onTyping&&(e.onTyping(e.id,a,h)||h([])))}),[a]),Object(r.useEffect)((function(){u&&u.length>0&&e.onSelection&&e.onSelection(e.id,u)}),[u]),o.a.createElement(Ce.a,{id:"autoCompleteField-".concat(e.id),filterOptions:function(e){return e},options:g,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,getOptionLabel:function(e){return e},value:e.value,onChange:function(e,t){d(t)},onClose:function(e){v([])},onInputChange:function(e,t){i(t)},renderInput:function(t){return o.a.createElement(M.a,Object.assign({},t,{label:e.label,variant:"outlined"}))}})},we=function(e){var t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],c=function(e,t){i(t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.HelperLabel,null,"Complete this information so we can find the Store you need!"),o.a.createElement(te,{autoComplete:"off",value:e.destinationObj.name,onChange:e.onTextFieldValueChange("name"),label:"Name This Destination",variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(be.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty",placeholder:"The name of your place. i.e. The Batcave"}),o.a.createElement(te,{label:"Add DesCription",value:e.destinationObj.description,onChange:e.onTextFieldValueChange("description"),variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(ge.a,null))},placeholder:"Instructions for delivery. i.e. `bark three times`"}),o.a.createElement(te,{autoComplete:"off",value:e.destinationObj.address,onChange:e.onTextFieldValueChange("address"),label:"Address",variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(ve.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(te,{label:"Address Two",value:e.destinationObj.address_two,onChange:e.onTextFieldValueChange("address_two"),variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(he.a,null))},placeholder:"Aditional info,i.e. building, apto, secret door etc."}),o.a.createElement(te,{autoComplete:"off",label:"Country",onChange:e.onTextFieldValueChange("country"),value:e.destinationObj.country,variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(Oe.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(te,{autoComplete:"off",value:e.destinationObj.state,onChange:e.onTextFieldValueChange("state"),label:"State",variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(ye.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.state,helperText:"This can't be empty"}),o.a.createElement(te,{autoComplete:"off",value:e.destinationObj.city,onChange:e.onTextFieldValueChange("city"),label:"City",variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(je.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.city,helperText:"This can't be empty"}),o.a.createElement(te,{autoComplete:"off",value:e.destinationObj.zip_code,onChange:e.onTextFieldValueChange("zip_code"),label:"Zip Code",variant:"outlined",InputProps:{startAdornment:o.a.createElement(ne,{position:"start"},o.a.createElement(Ee.a,null))},required:!0,error:""!==e.addressValue&&""===e.destinationObj.zip_code,helperText:"This can't be empty"}),o.a.createElement(fe.HelperLabel,null,"Are you done? there are a few filters you can apply"),o.a.createElement("h3",null,"Man, is midnight and partying"),o.a.createElement(ae,{control:o.a.createElement(re,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"Look for Open Stores"}),o.a.createElement("h3",null,"Just on the toilet, kind of an urgency"),o.a.createElement(ae,{control:o.a.createElement(re,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"I want it Quickly"}),o.a.createElement("h3",null,"A pretty domiciliary girl?"),o.a.createElement(ae,{control:o.a.createElement(re,{checked:a,onChange:c,name:"checkedB",color:"secondary"}),label:"I want it Near"}),o.a.createElement(oe,{variant:"contained",color:"secondary",endIcon:o.a.createElement(xe.a,null),onClick:e.submitForm},"Find It!"))},Te=function(e){var t=e.addressValue,n=e.locationLoaded,a=e.mapCenter,r=e.onAutoCompleFieldOnTyping,i=e.onCenterFieldSelection;return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.AutoCompleteFieldWraper,null,!n&&o.a.createElement(fe.HelperLabel,null,"Since we were unable to activate your Geolocation, let's find the city or town where you are located."),n&&o.a.createElement(fe.HelperLabel,null,"Alright! looks like you're somewhere near ",a.name,", move the marker in the map to find your address, or you can type it here."),o.a.createElement(Se,{id:ee.CENTER,label:"NearBy Place or City",value:a?a.name:"",onTyping:r,onSelection:i})),o.a.createElement(fe.AutoCompleteFieldWraper,null,o.a.createElement(fe.HelperLabel,null,"You can type your address to locate you, look for the hints if you're really lost!"),o.a.createElement(Se,{id:ee.ADDRESS,label:"Address",value:t,onTyping:r,onSelection:i})))},_e=n(203);!function(e){e.CENTER="Center",e.ADDRESS="Address"}(ee||(ee={}));var ke,Ae=function(e){var t=e.nearest,n=e.destination,i=e.storesList,c=e.mapServices,u=e.onApiLoad,d=e.locationLoaded,p=e.onDestinationSubmit,g=e.getAllStoresInCity,v=Object(r.useState)({center:{lat:0,lng:0},name:""}),h=Object(s.a)(v,2),O=h[0],y=h[1],j=Object(r.useState)({isDraggable:!0,id:0,coordinates:{latitude:n.latitude,longitude:n.longitude},name:n.name,type:a.User}),E=Object(s.a)(j,2),x=E[0],C=E[1],S=Object(r.useState)([]),w=Object(s.a)(S,2),T=w[0],_=w[1],k=Object(r.useState)(n),A=Object(s.a)(k,2),L=A[0],D=A[1],P=Object(r.useState)(""),I=Object(s.a)(P,2),M=I[0],N=I[1],R=o.a.useState(!1),z=Object(s.a)(R,2),V=z[0],B=z[1];Object(r.useEffect)((function(){if(c&&c.mapInitialLatLng){var e={lat:c.mapInitialLatLng.lat(),lng:c.mapInitialLatLng.lng()},t="";d&&(H(e),c.geoCoderService.geocode({location:e},(function(n){t=n[0].formatted_address.split(",").slice(1).toString(),y({center:e,name:t})}))),y({center:e,name:t})}}),[c,d]),Object(r.useEffect)((function(){var e=i&&i.map((function(e){return{isDraggable:!1,id:e.id,coordinates:{latitude:e.latitude,longitude:e.longitude},name:e.name,type:a.Store}})),n=t&&{isDraggable:!1,id:t.id,coordinates:{latitude:t.latitude,longitude:t.longitude},name:t.name,type:a.Distance};n&&e.push(n),_(e)}),[i,t]),Object(r.useEffect)((function(){var e={isDraggable:!0,id:0,coordinates:{latitude:n.latitude,longitude:n.longitude},name:n.name,type:a.User};C(e)}),[n]);var U=function(e){var t=function(t){var n=e.address_components.filter((function(e){return e.types.includes(t)}));return n.length>0?n[0].long_name:""},n={zip_code:t("postal_code"),country:t("country"),city:t("locality"),state:t("administrative_area_level_1"),address:e.formatted_address.split(",")[0],latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng()};D(Object(l.a)(Object(l.a)({},L),n)),N(e.formatted_address),y(Object(l.a)(Object(l.a)({},O),{},{name:e.formatted_address.split(",").slice(1).toString()}))},W=function(e,t){if(c.geoCoderService){var n={address:t};c.geoCoderService.geocode(n,(function(n){var a=n[0].geometry.location,r={lat:a.lat(),lng:a.lng()};e===ee.CENTER&&y(Object(l.a)(Object(l.a)({},O),{},{center:r,name:t})),e===ee.ADDRESS&&U(n[0]),H(r)}))}},K=function(){var e=Object(b.a)(f.a.mark((function e(t,n,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.maps&&c.autoCompleteService){e.next=2;break}return e.abrupt("return",void 0);case 2:return r={input:n},t===ee.CENTER&&(r=Object(l.a)(Object(l.a)({},r),{},{fields:["name"]})),t===ee.ADDRESS&&(r=Object(l.a)(Object(l.a)({},r),{},{location:new c.maps.LatLng(O.center.lat,O.center.lng),radius:3e4,types:["establishment","street_address","street_number","route"]})),c.autoCompleteService.getQueryPredictions(r,(function(e){if(e){var t=e.map((function(e){return e.description}));return a(t),t}})),e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(e){x&&C(Object(l.a)(Object(l.a)({},x),{},{coordinates:{latitude:e.lat,longitude:e.lng}}))},q=function(e){return function(t){D(Object(l.a)(Object(l.a)({},L),{},Object(m.a)({},e,t.target.value)))}},G=function(e){var t=function(e){var t=["address_two","description"],n=!0;for(var a in e)n=n&&(!!t.includes(a)||""!==e[a]);return n}(L);t?p(L):B(!t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.Title,null,"@Go Nuts!@"),o.a.createElement(fe.PanelContainer,null,o.a.createElement(fe.OptionsPanel,null,o.a.createElement(we,{addressValue:M,destinationObj:L,onTextFieldValueChange:q,submitForm:G})),o.a.createElement(fe.Board,null,o.a.createElement(Te,{addressValue:M,locationLoaded:d,mapCenter:O,onAutoCompleFieldOnTyping:K,onCenterFieldSelection:W}),o.a.createElement(fe.MapContainer,null,o.a.createElement(F,{userMarker:x,storesMarkers:T,onApiLoad:u,mapCenter:O,onMarkerMove:function(e){c.geoCoderService.geocode({location:e},(function(e){U(e[0])}))}})),o.a.createElement(oe,{variant:"contained",color:"secondary",onClick:function(){return g(O.name.split(",")[0])}},"Show me stores in this city"))),o.a.createElement(_e.a,{open:V,onClose:function(){return B(!1)}},o.a.createElement(fe.ModalContent,null,o.a.createElement("h2",null,"Ooops... Something did breake"),o.a.createElement("h3",null,"Destination information is not valid, please check the fields"),o.a.createElement(oe,{variant:"contained",color:"secondary",onClick:function(){return B(!1)}},"sure, i will!"))))};!function(e){e[e.distance=0]="distance",e[e.time=1]="time"}(ke||(ke={}));var Le=n(36),De={error:null,cityStores:[],nearest:{distance:void 0,time:void 0}},Pe=n(54),Ie=n.n(Pe),Fe=Object({NODE_ENV:"production",PUBLIC_URL:"/instastore-front-c",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,Me=Object({NODE_ENV:"production",PUBLIC_URL:"/instastore-front-c",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_STORES_URI;function Ne(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(b.a)(f.a.mark((function e(t){var n,a,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/nearest",n="".concat(Fe).concat(Me).concat("/nearest"),a={headers:{"Content-Type":"application/json"},params:{searchBy:t.filters.searchBy,hi:!0}},r=t,e.next=6,Ie.a.post(n,r,a);case 6:return o=e.sent,e.t0=console,e.t1='Nearest post from axios: ", ',e.next=11,o;case 11:return e.t2=e.sent.data,e.t3=e.t1.concat.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=16,o;case 16:return e.abrupt("return",e.sent.data);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(b.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Fe).concat(Me,"/city/").concat(t),a={headers:{"Content-Type":"application/json"}},e.next=4,Ie.a.get(n,a);case 4:return r=e.sent,e.t0=console,e.t1='get from axios: ", ',e.next=9,r;case 9:return e.t2=e.sent.data,e.t3=e.t1.concat.call(e.t1,e.t2),e.t0.log.call(e.t0,e.t3),e.next=14,r;case 14:return e.abrupt("return",e.sent.data);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=Object(Le.b)({name:"stores",initialState:De,reducers:{setStoresByCity:function(e,t){e.cityStores=t.payload},setStoresNearestTime:function(e,t){e.nearest.time=t.payload},setStoresNearestDistance:function(e,t){e.nearest.distance=t.payload},addStoreToCity:function(e,t){(e.cityStores||[]).push(t.payload)},somethingFailed:function(e,t){e.error=t.payload,console.info("redux state not modified")},failingAcknowledgement:function(e){e.error=null}}}),Ue=Be.actions,We=Ue.setStoresByCity,Ke=(Ue.setStoresNearestTime,Ue.setStoresNearestDistance),He=(Ue.addStoreToCity,Ue.somethingFailed),qe=Ue.failingAcknowledgement,Ge=Be.reducer,Je={error:null,destination:{name:"",address:"",address_two:"",description:"",country:"",city:"",zip_code:"",state:"",latitude:4.690884099999999,longitude:-74.860183},filters:{searchBy:ke.distance,searchOpen:!1},items:[{name:"beer",quantity:6}]},Ye=Object(Le.b)({name:"destination",initialState:Je,reducers:{setDestination:function(e,t){e.destination=t.payload},setFilters:function(e,t){e.filters=t.payload},addItemToOrder:function(e,t){var n=e.items||[],a=n.findIndex((function(e){return e.name===t.payload.name}));e.items=a>=0?[].concat(Object(g.a)(n.slice(0,a)),[t.payload],Object(g.a)(n.slice(a))):[].concat(Object(g.a)(n),[t.payload])},deleteItemFromOrder:function(e,t){var n=e.items||[],a=n.findIndex((function(e){return e.name===t.payload.name}));e.items=a>=0?[].concat(Object(g.a)(n.slice(0,a)),Object(g.a)(n.slice(a+1))):e.items},somethingFailed:function(e,t){e.error=t.payload,console.info("redux state not modified")},failingAcknowledgement:function(e){e.error=null}}}),Qe=Ye.actions,Ze=Qe.setDestination,$e=(Qe.setFilters,Qe.addItemToOrder,Qe.deleteItemFromOrder,Qe.somethingFailed),Xe=Qe.failingAcknowledgement,et=Ye.reducer,tt=function(e){Object(u.a)(e);var t=1.3521,n=103.8198,a=Object(d.b)(),i=Object(d.c)((function(e){return e.destination.destination})),c=Object(d.c)((function(e){return e.stores.cityStores}))||[],m=Object(d.c)((function(e){return e.destination.filters.searchBy===ke.distance?e.stores.nearest.distance:e.stores.nearest.time})),p=Object(r.useState)({}),g=Object(s.a)(p,2),v=g[0],h=g[1],O=Object(r.useState)(!1),y=Object(s.a)(O,2),j=y[0],E=y[1];Object(r.useEffect)((function(){console.log("the new map service is",v)}),[v]);return o.a.createElement(Ae,{onApiLoad:function(e){var a=new e.maps.LatLng(t,n);navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords;a=new e.maps.LatLng(n.latitude,n.longitude),h(Object(l.a)(Object(l.a)({},e),{},{mapInitialLatLng:a})),E(!0)}),(function(e){console.error("Cant Get Position",e)})),h(Object(l.a)(Object(l.a)({},e),{},{mapInitialLatLng:a}))},nearest:m,mapServices:v,destination:i,storesList:c||[],onDestinationSubmit:function(e){console.log("the submit is, ",e),a(function(e){return function(t){try{t(Ze(e)),t(Xe())}catch(n){console.error("No calls were made ".concat(n)),t($e(n))}}}(e)),a(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n,a){var r,o,i,c,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().destination,o=r.filters,i=r.items,c={destination:e,filters:o,items:i,error:null},t.next=5,Ne(c);case 5:l=t.sent,n(Ke(l.results[0])),n(qe()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("No calls were made ".concat(t.t0)),n(He(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},locationLoaded:j,getAllStoresInCity:function(e){void 0!==e&&""!==e&&a(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ze(e);case 3:r=t.sent,n(We(r.results)),n(qe()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("No calls were made ".concat(t.t0)),n(He(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))}})},nt={main:"mediumseagreen"},at=(n(149),function(){return o.a.createElement(E.a,{theme:nt},o.a.createElement("div",{className:"App"},o.a.createElement(tt,null)))}),rt=Object(Le.a)({reducer:{user:et,destination:et,stores:Ge}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(d.a,{store:rt},o.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.3196338c.chunk.js.map